<!-- TITLE -->
<div class="mat-h1">Posts</div>

<!-- LOADING SPINNER -->
<app-loading-spinner *ngIf="loading"></app-loading-spinner>

<!-- FILTER -->
<mat-form-field>
  <mat-label>Search</mat-label>
  <input matInput (keyup)="applyFilter($event)" />
</mat-form-field>

<!-- TABLE -->
<mat-table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>
  <!-- TITLE COLUMN -->
  <ng-container matColumnDef="title">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Title</mat-header-cell>
    <mat-cell *matCellDef="let post">{{ post.title }}</mat-cell>
  </ng-container>

  <!-- AUTHOR COLUMN -->
  <ng-container matColumnDef="author">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Author</mat-header-cell>
    <mat-cell *matCellDef="let post">{{ post.author }}</mat-cell>
  </ng-container>

  <!-- DATE COLUMN -->
  <ng-container matColumnDef="date">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Date</mat-header-cell>
    <mat-cell *matCellDef="let post">{{ post.date | date: 'yyyy.MM.dd HH:mm' }}</mat-cell>
  </ng-container>

  <!-- PUBLIC COLUMN -->
  <ng-container matColumnDef="public">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Public</mat-header-cell>
    <mat-cell *matCellDef="let post">{{ post.public }}</mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row
    *matRowDef="let post; columns: displayedColumns"
    routerLink="/blog/edit"
    [queryParams]="{ id: post.id }"
  ></mat-row>
</mat-table>
<mat-paginator [pageSizeOptions]="[5, 10, 25, 50]"></mat-paginator>
